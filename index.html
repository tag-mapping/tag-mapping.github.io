<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="description"
        content="Tag Map is a text-based map representation for robots spatial reasoning and grounded navigation.">
  <meta name="keywords" content="Tag Map, Grounded Navigation, Scene Understanding, Large Language Models">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Tag Map: A Text-Based Map for Spatial Reasoning and Navigation with Large Language Models</title>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PYVRSFMDRL"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'G-PYVRSFMDRL');
  </script>

  <script>
    function updateInteractive3DViz() {
      var task = document.getElementById("interative-3d-viz-menu").value;

      console.log("interactive", task)

      var html = document.getElementById("interactive-3d-viz");
      html.src = "media/interactive/" + 
                  task + 
                  ".html"
    }
  </script>

  <script>
    function updateInteractiveRobotExperiment() {
      var task = document.getElementById("interative-robot-experiment-menu").value;

      console.log("interactive", task)

      var dialogue = document.getElementById("interactive-robot-experiment-dialogue");
      dialogue.src = "media/images/robot-experiments/" + 
                  task + 
                  ".svg"

      var video = document.getElementById("interactive-robot-experiment-video");
      video.src = "media/videos/" + 
                  task + 
                  ".mp4"
    }
  </script>

<script>
  function interactiveIframeOnload(iframe) {
    // This function is mostly from ChatGPT
    var iframeDoc = iframe.contentWindow.document;

    var contentWidth = iframeDoc.body.scrollWidth;
    var iframeWidth = iframe.clientWidth;
    var scaleFactor = iframeWidth / contentWidth;

    iframeDoc.body.style.transform = "scale(" + scaleFactor + ")";
    iframeDoc.body.style.transformOrigin = "0 0";

    iframeDoc.body.style.width = (100 / scaleFactor) + "%"; // Compensates for the scale so no overflow

    iframe.style.height = iframeDoc.body.scrollHeight + 'px';
  };
</script>

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
        rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="icon" href="./static/images/favicon.svg">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>
</head>
<body>


<section class="hero">
  <div class="hero-body">
    <div class="container is-max-desktop">
      <div class="columns is-centered">
        <div class="column has-text-centered">
          <h1 class="title is-1 publication-title">Tag Map: A Text-Based Map <br> for Spatial Reasoning and Navigation <br> with Large Language Models</h1>
          <div class="is-size-5 publication-authors">
            <span class="author-block">
              <a href="https://mikez.xyz">Mike Zhang</a>,</span>
              <a href="https://www.linkedin.com/in/kaixian-qu-66a86215a">Kaixian Qu</a>,</span>
              <a href="https://www.linkedin.com/in/vaishakhpatil">Vaishakh Patil</a>,</span>
              <a href="https://n.ethz.ch/~cesarc">Cesar Cadena</a>,</span>
              <a href="https://rsl.ethz.ch/the-lab/people/person-detail.MTIxOTEx.TGlzdC8yNDQxLC0xNDI1MTk1NzM1.html">Marco Hutter</a></span>
          </div>

          <div class="is-size-5 publication-authors">
            <span class="author-block">Robotic Systems Lab, ETH Zurich</span>
          </div>

          <div class="column has-text-centered">
            <div class="publication-links">
              <span class="link-block">
                <a href="media/paper.pdf"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fas fa-file-pdf"></i>
                  </span>
                  <span>Paper</span>
                </a>
              </span>
              <span class="link-block">
                <a href="http://arxiv.org/abs/2409.15451"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="ai ai-arxiv"></i>
                  </span>
                  <span>arXiv</span>
                </a>
              </span>
              <span class="link-block">
                <a href="#0"
                   class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                      <i class="fab fa-github"></i>
                  </span>
                  <span>Code (coming soon)</span>
                  </a>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<section class="hero teaser">
  <div class="container is-max-desktop">
    <div class="hero-body">
      <video id="teaser" autoplay muted loop playsinline height="100%">
        <source src="media/videos/teaser.mp4"
                type="video/mp4">
      </video>
      <h2 class="subtitle has-text-centered">
        <span class="tagmap">Tag Map</span> is a text-based scene representation for 
        robots to<br>generate navigation plans grounded on the scene context.
      </h2>
    </div>
  </div>
</section>


<section class="section">
  <div class="container is-max-desktop">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Abstract</h2>
        <div class="content has-text-justified">
          <p>
            Large Language Models (LLM) have emerged as a tool for robots to
            generate task plans using common sense reasoning. For the LLM to generate
            actionable plans, scene context must be provided, often through a map. Recent
            works have shifted from explicit maps with fixed semantic classes to implicit open
            vocabulary maps based on queryable embeddings capable of representing any semantic class.
            However, embeddings cannot directly report the scene context as
            they are implicit, requiring further processing for LLM integration. To address
            this, we propose an explicit text-based map that can represent thousands of semantic
            classes while easily integrating with LLMs due to their text-based nature
            by building upon large-scale image recognition models. We study how entities in
            our map can be localized and show through evaluations that our text-based map
            localizations perform comparably to those from open vocabulary maps while using
            two to four orders of magnitude less memory. Real-robot experiments demonstrate
            the grounding of an LLM with the text-based map to solve user tasks.
          </p>
        </div>
      </div>
    </div>
    <br>
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Explanatory Video</h2>
        <div class="publication-video">
          <iframe src="https://www.youtube.com/embed/m-G4xT15eiY?si=Vr3X6EOUUa0kscGP" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        </div>
      </div>
    </div>
  </div>
</section>


<section class="section">
  <div class="container is-max-widescreen">

    <div class="columns is-centered is-justified">
      <div class="column is-full-width">
        <h2 class="title is-3">Method Overview</h2>
      </div>
    </div>
    <img src="media/images/method_overview.svg" class="interpolation-image">
    <br>
    <br>
    <p>
      A Tag Map is built from a set of scene viewpoints given as RGB-D frames along with their poses.
      Each viewpoint is processed through a large-scale image recognition model to generate a set of text tags of the recognized entities from that viewpoint.
      The mapping between the unique tags recognized in the scene to their corresponding viewpoint poses are stored as the Tag Map scene representation.
      Despite its information sparsity, we show that we can recover coarse-grained 3D localizations of the tagged entities from such maps.
      While theses localizations generally do not precisely bound an entity, we find that they are sufficient navigation goals for reaching that entity.
      <br>
      <br>
      Tag Maps can be easily used to ground a Large Language Models (LLMs) on the scene context by directly adding the tags to the LLM prompt.
      Further integration with the LLM can be done using the LLM's function calling capabilities, allowing it to query for additional information from the Tag Map. 
      Through a chat interface, users provide task descriptions to the LLM, which then generates navigation plans towards completing the tasks.
    </p>

  </div>
</section>


<section class="section">
  <div class="container is-max-widescreen">

    <div class="columns is-centered is-justified">
      <div class="column is-full-width">
        <h2 class="title is-3">Example Tag Map Coarse Localizations</h2>
      </div>
    </div>

    <div class="columns">
      <div class="column has-text-centered">
        <div class="select is-large">     
          <select id="interative-3d-viz-menu" onchange="updateInteractive3DViz()">
          <option value="piano" selected="selected">piano</option>
          <option value="cowboy-boots">cowboy boots</option>
          <option value="thermostat">thermostat</option>
          <option value="barbecue-grill">barbecue grill</option>
          <option value="foosball">foosball</option>
          <option value="printer">printer</option>
          <option value="bathroom">bathroom</option>
          <option value="basketball-court">basketball court</option>
          <option value="garage">garage</option>
          </select>
        </div>
      </div>
    </div>

    <div class="columns">
      <div class="column has-text-centered">
        <iframe id="interactive-3d-viz" src="media/interactive/piano.html" 
          scrolling="no" frameborder="0" 
          style="max-width: 1010px; width: 100%;"
          onload="interactiveIframeOnload(this)">
      </iframe>
      </div>
    </div>
    
  </div>
</section>


<section class="section">
  <div class="container is-max-widescreen">

    <div class="columns is-centered is-justified">
      <div class="column is-full-width">
        <h2 class="title is-3">Robot Experiments on Grounded Navigation</h2>
      </div>
    </div>

    <div class="columns">
      <div class="column has-text-centered">
        <div class="select is-large">
          <select id="interative-robot-experiment-menu" onchange="updateInteractiveRobotExperiment()">
          <option value="tap-water-microwave" selected="selected">Get some tap water and heat it up</option>
          <option value="kitchen-fridge">Get my lunch in the kitchen fridge</option>
          <option value="extinguisher">Help put out a fire</option>
          <option value="elevator">Go to the top floor</option>
          <option value="logo">Take a picture next to the lab logo</option>
          </select>
        </div>
      </div>
    </div>

    <!-- reset select dropdown to default on reload -->
    <script>
      function reloadRobotExperimentSelect() {
        const select = document.getElementById('interative-robot-experiment-menu');
        select.selectedIndex = 0;
      }
      document.addEventListener('DOMContentLoaded', reloadRobotExperimentSelect);
    </script>


    <div class="columns">
      <div class="column is-4 has-text-centered">
        <img id="interactive-robot-experiment-dialogue" src="media/images/robot-experiments/tap-water-microwave.svg" width="100%"></img>
      </div>
      <div class="column is-8 has-text-centered">
        <video id="interactive-robot-experiment-video" width="100%" height="100%" controls muted>
          <source src="media/videos/tap-water-microwave.mp4" type="video/mp4">
      </div>
    </div>

  </div>
</section>


<section class="section" id="BibTeX">
  <div class="container is-max-desktop content">
    <h2 class="title">BibTeX</h2>
    <pre><code>@inproceedings{zhang2024tagmap,
  author  = {Zhang, Mike and Qu, Kaixian and Patil, Vaishakh and Cadena, Cesar and Hutter, Marco},
  title   = {Tag Map: A Text-Based Map for Spatial Reasoning and Navigation with Large Language Models},
  journal = {Conference on Robot Learning (CoRL)},
  year    = {2024},
}
    </code></pre>
  </div>
</section>


<footer class="footer">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="content">
          <p>
            This website is licensed under a <a rel="license"
              href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons Attribution-ShareAlike 4.0 International License</a>.
          </p>
          <p>
            We would like to thank the authors of <a href="https://github.com/nerfies/nerfies.github.io">Nerfies</a>
            for providing the template on which this website is based.
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

</body>
</html>
